(window.webpackJsonp=window.webpackJsonp||[]).push([[53],{481:function(t,a,n){"use strict";n.r(a);var s=n(12),e=Object(s.a)({},(function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"ns3-ç®€è®°"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ns3-ç®€è®°"}},[t._v("#")]),t._v(" NS3 ç®€è®°")]),t._v(" "),n("p"),n("div",{staticClass:"table-of-contents"},[n("ul",[n("li",[n("a",{attrs:{href:"#è¿è¡Œè„šæœ¬"}},[t._v("è¿è¡Œè„šæœ¬")])]),n("li",[n("a",{attrs:{href:"#æœ¬åœ°ç¼–è¯‘æ–‡æ¡£"}},[t._v("æœ¬åœ°ç¼–è¯‘æ–‡æ¡£")])]),n("li",[n("a",{attrs:{href:"#trace"}},[t._v("Trace")])]),n("li",[n("a",{attrs:{href:"#context"}},[t._v("Context")])]),n("li",[n("a",{attrs:{href:"#åœ¨å·²æœ‰çš„æ¨¡å—é‡Œæ–°å¢æ–‡ä»¶"}},[t._v("åœ¨å·²æœ‰çš„æ¨¡å—é‡Œæ–°å¢æ–‡ä»¶")])]),n("li",[n("a",{attrs:{href:"#python-binding"}},[t._v("Python binding")])]),n("li",[n("a",{attrs:{href:"#ns3æ··ç¼–-embedding-python"}},[t._v("ns3æ··ç¼–(embedding) Python")]),n("ul",[n("li",[n("a",{attrs:{href:"#ä¸€èˆ¬æƒ…å†µä¸‹çš„c-pythonæ··ç¼–"}},[t._v("ä¸€èˆ¬æƒ…å†µä¸‹çš„c++/pythonæ··ç¼–")])]),n("li",[n("a",{attrs:{href:"#å¯è¡Œæ–¹æ¡ˆ-ä¿®æ”¹wscript"}},[t._v("å¯è¡Œæ–¹æ¡ˆï¼šä¿®æ”¹wscript")])]),n("li",[n("a",{attrs:{href:"#ä¸¤å¹´åé‡æ–°ç¼–è¯‘è¿™ä¸ªæ··ç¼–çš„é¡¹ç›®"}},[t._v("ä¸¤å¹´åé‡æ–°ç¼–è¯‘è¿™ä¸ªæ··ç¼–çš„é¡¹ç›®")])]),n("li",[n("a",{attrs:{href:"#è¡¥å……-ns3æ–‡æ¡£ä¸­ç›¸å…³å†…å®¹"}},[t._v("è¡¥å……ï¼šns3æ–‡æ¡£ä¸­ç›¸å…³å†…å®¹")])])])]),n("li",[n("a",{attrs:{href:"#ä¸€ä¸ªå¾ˆæœ‰è¶£çš„repo"}},[t._v("ä¸€ä¸ªå¾ˆæœ‰è¶£çš„repo")])]),n("li",[n("a",{attrs:{href:"#tips"}},[t._v("TIPS")])])])]),n("p"),t._v(" "),n("h2",{attrs:{id:"è¿è¡Œè„šæœ¬"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#è¿è¡Œè„šæœ¬"}},[t._v("#")]),t._v(" è¿è¡Œè„šæœ¬")]),t._v(" "),n("p",[t._v("è¿è¡Œc++è„šæœ¬ "),n("code",[t._v('./waf --run=app_name --command-template="%s --arg_name=arg_value"')]),t._v("ã€‚è¦è°ƒç”¨gdbå¯ä»¥åœ¨command-templateé‡Œé¢åŠ ï¼Œå¦‚"),n("code",[t._v('--command-template="gdb %s --arg_name=arg_value"')]),t._v("ã€‚")]),t._v(" "),n("p",[t._v("å¦‚æœæ˜¯pythonè„šæœ¬ï¼Œæ˜¯è¦ç”¨ "),n("code",[t._v('./waf --pyrun=app_path --command-template="%s --arg_name=arg_value"')]),t._v("ã€‚æ³¨æ„è¿™é‡Œè¦ç”¨è·¯å¾„ï¼Œä¸åƒè¿è¡Œc++è„šæœ¬å¯ä»¥ç›´æ¥å†™"),n("code",[t._v("scratch")]),t._v("ç›®å½•ä¸‹çš„è„šæœ¬åå­—ã€‚")]),t._v(" "),n("p",[t._v("è·‘pythonè„šæœ¬çš„æ—¶å€™åœ¨"),n("code",[t._v("scratch")]),t._v("ç›®å½•ç”Ÿæˆ"),n("code",[t._v("__pycache__")]),t._v("å¯èƒ½ä¼šå¯¼è‡´ä»»åŠ¡æ‰§è¡Œå¤±è´¥ï¼Œè¦åŠæ—¶æ¸…ç†æ‰cacheã€‚ä¹Ÿå¯ä»¥æ”¹ns3æ ¹ç›®å½•ä¸‹çš„"),n("code",[t._v("wscript")]),t._v("ä¸­çš„"),n("code",[t._v("def add_scratch_programs(bld)")]),t._v("å‡½æ•°è‡ªåŠ¨è·³è¿‡è¯¥ç›®å½•ã€‚")]),t._v(" "),n("h2",{attrs:{id:"æœ¬åœ°ç¼–è¯‘æ–‡æ¡£"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#æœ¬åœ°ç¼–è¯‘æ–‡æ¡£"}},[t._v("#")]),t._v(" æœ¬åœ°ç¼–è¯‘æ–‡æ¡£")]),t._v(" "),n("p",[t._v("åœ¨çº¿æ–‡æ¡£æœ‰äº›æ…¢ï¼Œä¸å¦‚åœ¨æœ¬åœ°ç¼–è¯‘ä¸€ä¸ªã€‚éœ€è¦å®‰è£…doxygenï¼ŒåŒæ—¶é‡æ–°é…ç½®ä¸€ä¸‹waf")]),t._v(" "),n("div",{staticClass:"language-shell extra-class"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt-get")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" doxygen\n./waf configure --enable-examples --enable-tests\n./waf --doxygen\n")])])]),n("p",[t._v("å¦‚æœå‡ºç°é”™è¯¯æç¤ºæŸäº›è„šæœ¬é‡Œå­˜åœ¨"),n("code",[t._v("'\\r'")]),t._v("ä¸èƒ½è¯†åˆ«ï¼Œå¯èƒ½æ˜¯å› ä¸ºLinuxä¸‹æ¢è¡Œç¬¦å’ŒWindowsä¸‹ä¸åŒï¼Œç”¨VScodeè¿™äº›ç¼–è¾‘å™¨è½¬æ¢CRLFåˆ°LFå°±è¡Œäº†ã€‚")]),t._v(" "),n("h2",{attrs:{id:"trace"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#trace"}},[t._v("#")]),t._v(" Trace")]),t._v(" "),n("p",[t._v("ns3çš„traceç³»ç»Ÿå®šä¹‰äº†ä¸€ç³»åˆ—çš„sourceå»è¿½è¸ªä¸åŒçš„å˜é‡ï¼Œåœ¨å˜é‡å‘ç”Ÿå˜åŒ–æ—¶å¯ä»¥è§¦å‘sinkè®°å½•è¿™ç§å˜åŒ–ã€‚åœ¨è¿è¡Œæ¨¡æ‹Ÿå®éªŒæ—¶ï¼Œé€šè¿‡ç”¨æˆ·å®šä¹‰çš„å›è°ƒå‡½æ•°æ¥åšä¸ºtrace souceçš„trace sinkã€‚è¿™äº›sourceå›è°ƒå‡½æ•°ä¸€èˆ¬åœ¨ç±»å†…å®šä¹‰ä¸ºç§æœ‰å˜é‡ï¼Œå‘½åè§„åˆ™ä¸º"),n("code",[t._v("m_aTraceFunction")]),t._v("ã€‚åœ¨å®šä¹‰çš„æ—¶å€™ï¼Œè¿™äº›å›è°ƒå‡½æ•°çš„ç±»å‹ä¸º"),n("code",[t._v("TracedCallback<T1, T2, ...>")]),t._v("ã€‚")]),t._v(" "),n("p",[t._v("éœ€è¦æŒ‡å‡ºï¼Œns3çš„å›è°ƒå‡½æ•°çš„è¿”å›ç±»å‹é»˜è®¤éƒ½æ˜¯"),n("code",[t._v("void")]),t._v("ï¼Œæ¨¡æ¿ä¸­çš„"),n("code",[t._v("T")]),t._v("æ˜¯å›è°ƒå‡½æ•°çš„å‚æ•°å˜é‡ç±»å‹ã€‚é‚£ä¹ˆæˆ‘ä»¬åœ¨å†™sinkçš„æ—¶å€™ï¼Œéœ€è¦å®šä¹‰æˆ"),n("code",[t._v("void aTraceSink(std::string context, T1 xx, T2 xx, ...)")]),t._v("ã€‚è¿™é‡Œçš„"),n("code",[t._v("std::string context")]),t._v("æ˜¯è¡¨æ˜æˆ‘ä»¬è‡ªå®šä¹‰sinkä¸å“ªä¸ªsourceç›¸è¿æ¥çš„ï¼Œå³æ­¤åˆ»çš„å˜åŒ–æ˜¯ä»å“ªä¸ªèŠ‚ç‚¹å‘å‡ºçš„ã€‚")]),t._v(" "),n("p",[t._v("ç»‘å®šsinkå›è°ƒæ—¶å€™ä½¿ç”¨"),n("code",[t._v("Config::Connet(a context, MakeCallback(&aTraceSink))")]),t._v("ã€‚")]),t._v(" "),n("p",[t._v("è‡ªå®šä¹‰sinkçš„æ—¶å€™ï¼Œ"),n("code",[t._v("std::string context")]),t._v("å‚æ•°ä¹Ÿå¯ä»¥çœç•¥æ‰ï¼Œå†™æˆ"),n("code",[t._v("void anotherTraceSink(T1 xx, T2 xx, ...)")]),t._v("ï¼Œåœ¨ç»‘å®šåˆ°ç›‘å¬çš„å¯¹è±¡ä¸Šæ—¶ä½¿ç”¨çš„æ˜¯"),n("code",[t._v("Config::ConnectWithoutContext")]),t._v("ã€‚")]),t._v(" "),n("p",[t._v("ç»‘å®šsinkä¹Ÿå¯ä»¥ç”¨"),n("code",[t._v("obj.TraceConnect")]),t._v("å’Œ"),n("code",[t._v("obj.TraceConnectWithoutContext")]),t._v("ç»‘å®šåˆ°ä¸€ä¸ªå…·ä½“çš„å¯¹è±¡ä¸Šï¼Œç”¨æ³•ä¸"),n("code",[t._v("Config::Connect")]),t._v("ç±»ä¼¼ï¼Œå› ä¸ºåè€…æœ¬æ¥å°±æ˜¯è°ƒç”¨äº†å‰è€…å®ç°çš„ï¼Œè¯¦è§å®˜æ–¹tutorialã€‚")]),t._v(" "),n("h2",{attrs:{id:"context"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#context"}},[t._v("#")]),t._v(" Context")]),t._v(" "),n("p",[t._v("Contextå…¶å®å°±æ˜¯èŠ‚ç‚¹ã€åº”ç”¨ã€å‡½æ•°çš„åå­—ï¼Œæ¯”å¦‚"),n("code",[t._v("/NodeList/*/DeviceList/*/$ns3::WifiNetDevice/Mac/$ns3::AdhocWifiMac/Txop/CwTrace")]),t._v("å†™çš„æ˜¯ä»»æ„èŠ‚ç‚¹ä¸Šçš„ä»»æ„ç½‘å¡ä¸Šçš„ä»»æ„æ— çº¿ç½‘å¡ä¸Šçš„Macå±‚çš„ä¼ è¾“æ—¶çš„congestion windowçš„Traceï¼Ÿç„¶ååœ¨ns3æ–‡æ¡£çš„apiåˆ—è¡¨ä¸­æ‰¾åˆ°"),n("code",[t._v("CwTrace")]),t._v("çš„å®šä¹‰ï¼Œå†™ä¸€ä¸ªå›è°ƒç”¨"),n("code",[t._v("Config::Connect")]),t._v("åˆ°è¿™ä¸ªcontextå°±å¯ä»¥ç›‘å¬äº†ã€‚ç”¨ä¸‹é¢çš„å‡½æ•°å¯ä»¥ä¾¿æ·åœ°ä»Contextä¸­æå–NodeIdã€‚")]),t._v(" "),n("div",{staticClass:"language-c++ extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v('uint32_t ContextToNodeId(std::string context) {\n    std::string sub = context.substr(10); // skip "/NodeList/"\n    uint32_t pos = sub.find("/Device");\n    NS_LOG_DEBUG("Found NodeId " << atoi(sub.substr(0, pos).c_str()));\n    return atoi(sub.substr(0, pos).c_str());\n}\n')])])]),n("h2",{attrs:{id:"åœ¨å·²æœ‰çš„æ¨¡å—é‡Œæ–°å¢æ–‡ä»¶"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#åœ¨å·²æœ‰çš„æ¨¡å—é‡Œæ–°å¢æ–‡ä»¶"}},[t._v("#")]),t._v(" åœ¨å·²æœ‰çš„æ¨¡å—é‡Œæ–°å¢æ–‡ä»¶")]),t._v(" "),n("p",[t._v("è®°å¾—æ”¹æ¨¡å—ç›®å½•ä¸‹çš„wscriptï¼ŒæŠŠæ–°å¢çš„æ–‡ä»¶ç¼–è¯‘è¿›"),n("code",[t._v("build/ns3")]),t._v("é‡Œï¼Œå¦åˆ™å»"),n("code",[t._v("scrach")]),t._v("ä¸‹å†™æµ‹è¯•è¿˜æ˜¯æ‰¾ä¸åˆ°æ–°å¢çš„æ–‡ä»¶ã€‚")]),t._v(" "),n("p",[t._v("æœ‰æ—¶å€™ä¼šç ´åpython bindingçš„æ–‡ä»¶ä¾èµ–ï¼Œä¸ä¼šæ”¹æ¨¡å—bindingç›®å½•ä¸‹çš„è®¾ç½®ï¼ŒæŠŠpython bindingå…³äº†ä¸è¦ç”Ÿæˆpythonçš„å¯¹åº”åŒ…äº†= ="),n("code",[t._v(".\\build -- --diable-python")]),t._v(" æˆ–è€…"),n("code",[t._v(".\\nsxxx\\waf configure --disable-python")])]),t._v(" "),n("p",[t._v("å¦‚æœæ˜¯æ–°å¢æ¨¡å—ï¼Œå¯ä»¥ç”¨wafè‡ªåŠ¨ç”Ÿæˆï¼Œè¯¦è§å®˜æ–¹æ–‡æ¡£ã€‚")]),t._v(" "),n("h2",{attrs:{id:"python-binding"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#python-binding"}},[t._v("#")]),t._v(" Python binding")]),t._v(" "),n("p",[t._v("å¦‚æœä¸éœ€è¦python bindingï¼Œåªç”¨C++ï¼Œå®˜æ–¹å»ºè®®å°±æ˜¯ç›´æ¥ç”¨"),n("code",[t._v("./build.py -- --disable-python")]),t._v("æˆ–"),n("code",[t._v("./waf --disable-python")]),t._v("ï¼Œè¿™æ ·buildå¿«è€Œä¸”ä¸ä¼šå‡ºç°å’Œpythonæœ‰å…³çš„é—®é¢˜ã€‚")]),t._v(" "),n("p",[t._v("å¦‚æœæƒ³ç”¨python bindingï¼Œä½†æ¿€æ´»äº†Anacondaä¸­çš„ç¯å¢ƒï¼Œåœ¨buildæ—¶python bindingä¼šæ— æ³•enableã€‚")]),t._v(" "),n("p",[t._v("ä½¿ç”¨"),n("code",[t._v(".\\waf configure")]),t._v('ä¹‹åï¼Œå‘ç°å…·ä½“é—®é¢˜æ˜¯"Testing pyembed configuration   : Could not build a python embedded interpreter"é”™è¯¯ã€‚')]),t._v(" "),n("p",[t._v("ä¼¼ä¹å¾ˆå¤šä½¿ç”¨wafæ„å»ºçš„é¡¹ç›®ä¸­éƒ½ä¼šå‡ºç°è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘æ‰¾ä¸åˆ°åˆé€‚çš„è§£å†³æ–¹æ³•ã€‚å°è¯•æŠŠanacondaç¯å¢ƒdeactivatedæ‰å°±å¥½äº†ã€‚è¿™é‡Œdeactivatedåï¼Œæœ€å¥½æ”¹ä¸€ä¸‹"),n("code",[t._v("build.py")]),t._v(" å’Œ"),n("code",[t._v("waf")]),t._v("ä¸­çš„è§£é‡Šå™¨ï¼Œé»˜è®¤æ˜¯"),n("code",[t._v("#! /usr/bin/env python")]),t._v("åœ¨ä¸€äº›æœºå™¨ä¸Šå¯èƒ½ä¼šå»è°ƒç”¨"),n("code",[t._v("pyhon2")]),t._v("ã€‚æ”¹æˆ"),n("code",[t._v("#! /usr/bin/env python3")]),t._v("ã€‚")]),t._v(" "),n("p",[t._v("ç„¶ååœ¨ç”¨å®˜æ–¹æä¾›çš„"),n("code",[t._v("build.py")]),t._v("è„šæœ¬æˆ–è€…ç”¨"),n("code",[t._v("waf")]),t._v("æ„å»ºåï¼Œå†æ¿€æ´»Anacondaä¸­çš„æŸä¸ªç¯å¢ƒï¼Œ"),n("code",[t._v("waf")]),t._v("ä¼šè‡ªåŠ¨linkä¸€ébuildè¿‡çš„python bindingï¼Œåœ¨Anacondaçš„æŸä¸ªç¯å¢ƒé‡Œå°±å¯ç”¨äº†~")]),t._v(" "),n("p",[t._v("å¯æƒœä¸€åˆ‡åŠªåŠ›å…¨éƒ¨æœ¨å¤§äº†ã€‚python bindingä¸æ”¯æŒå¾ˆå¤šåº•å±‚çš„apiï¼Œè€Œä¸”"),n("strong",[t._v("ä¸æ”¯æŒä½¿ç”¨å›è°ƒçš„tracing")]),t._v("ï¼Œåªå¯ä»¥ä½¿ç”¨pcapå’Œasciiæ–‡ä»¶ã€‚åŒæ—¶åé¢ä¼šæåˆ°çš„ä¸€ä¸ªrepoï¼Œæˆ‘è¿™è¾¹åˆbuildä¸äº†ï¼Œè¿™ä¹Ÿå¯¼è‡´æˆ‘åªèƒ½å»è€ƒè™‘åœ¨ns3ä¸­æ··ç¼–pythonï¼Œé‡åˆ°äº†å¾ˆå¤šæ–°å‘ã€‚")]),t._v(" "),n("h2",{attrs:{id:"ns3æ··ç¼–-embedding-python"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ns3æ··ç¼–-embedding-python"}},[t._v("#")]),t._v(" ns3æ··ç¼–(embedding) Python")]),t._v(" "),n("p",[t._v("ç›´æ¥ç”¨python bindingæ˜¯ä¸å¯èƒ½äº†ï¼Œè™½ç„¶æœ‰C++çš„tensorflowï¼Œä½†æ˜¯çœ‹äº†ä¸€ä¸‹é…ç½®åˆå¾ˆéº»çƒ¦ã€‚å°±æƒ³ç”¨cppè°ƒç”¨pythonï¼ŒæŸ¥äº†ä¸€ä¸‹å†™äº†ä¸€äº›æµ‹è¯•ä¼¼ä¹å¾ˆæ–¹ä¾¿å˜›ã€‚æƒ³ç€è¿™æ ·ç®—æ³•çš„å®ç°ä¸Šå¯ä»¥ç”¨pythonçµæ´»ç®€å•ä¸€ç‚¹ï¼Œä¹Ÿæœ‰å¤§æ®µç°æˆçš„ç®—æ³•å®ç°ã€‚é‚£å°±çœ‹çœ‹æ€ä¹ˆembedding python into c++ã€‚ğŸ˜‹")]),t._v(" "),n("h3",{attrs:{id:"ä¸€èˆ¬æƒ…å†µä¸‹çš„c-pythonæ··ç¼–"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ä¸€èˆ¬æƒ…å†µä¸‹çš„c-pythonæ··ç¼–"}},[t._v("#")]),t._v(" ä¸€èˆ¬æƒ…å†µä¸‹çš„c++/pythonæ··ç¼–")]),t._v(" "),n("p",[t._v("ä¸€èˆ¬çš„æƒ…å†µä¸‹ï¼Œåœ¨C++ä¸­æ··ç¼–pythonåªéœ€è¦åŠ ä¸Špythonçš„å¤´æ–‡ä»¶"),n("code",[t._v("#include 'Python.h'")]),t._v(" ï¼ˆè¿™é‡Œè¦æ³¨æ„å¯èƒ½éœ€è¦ç”¨ç»å¯¹è·¯å¾„ï¼Œçœ‹ä½ pythonæ€ä¹ˆè£…çš„ï¼‰ï¼Œç„¶åä¸ºg++æ·»åŠ å¦‚ä¸‹å‚æ•°è¿›è¡Œç¼–è¯‘å°±è¡Œäº†")]),t._v(" "),n("div",{staticClass:"language-shell extra-class"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[t._v("g++ callpy.cpp "),n("span",{pre:!0,attrs:{class:"token variable"}},[n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")]),t._v("python3-config --cflags"),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")])]),t._v(" "),n("span",{pre:!0,attrs:{class:"token variable"}},[n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")]),t._v("python3-config --ldflags"),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")])]),t._v(" -fPIC "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# æ·»åŠ çš„å‚æ•°ä¼šè‡ªåŠ¨å±•å¼€ä¸ºå¤´æ–‡ä»¶å’Œé“¾æ¥åº“å‚æ•°")]),t._v("\n")])])]),n("p",[t._v("ä½¿ç”¨"),n("code",[t._v("Py_Initialize ();")]),t._v("å’Œ"),n("code",[t._v("Py_Finalize ();")]),t._v("å¯ä»¥åˆå§‹åŒ–å’Œå…³é—­Pythonè§£é‡Šå™¨ã€‚åœ¨C++ä¸­ï¼Œpythonçš„å˜é‡éƒ½è¢«åˆ›å»ºä¸ºä¸€ä¸ªç±»å‹ä¸º"),n("code",[t._v("PyObject")]),t._v("çš„æŒ‡é’ˆã€‚")]),t._v(" "),n("p",[t._v("æ¨¡å—å¯¼å…¥æ–¹é¢ï¼Œè‹¥æ˜¯ä½¿ç”¨ "),n("code",[t._v('PyRun_SimpleString ("import os");')]),t._v("å¯¼å…¥æ¨¡å—ï¼Œåˆ™æ¨¡å—åœ¨C++ä»£ç ä¸­å¯è§ï¼Œå¯ä»¥ä½¿ç”¨"),n("code",[t._v("PyRun_SimpleString (print(os.getcwd())ï¼›")]),t._v("è‹¥ä½¿ç”¨çš„æ˜¯ "),n("code",[t._v('pName = PyUnicode_DecodeFSDefault ("os"); pModule = PyImport_ImportModule (pName);')]),t._v("å¯¼å…¥æ¨¡å—ï¼Œåˆ™æ— æ³•é€šè¿‡``PyRun_SimpleString"),n("code",[t._v("å»ä½¿ç”¨")]),t._v("os`ã€‚")]),t._v(" "),n("p",[t._v("ä½¿ç”¨"),n("code",[t._v("PyModule_GetDict(pModule)")]),t._v("ä»æ¨¡å—ä¸­è·å–ä¸€ä¸ªå­—å…¸ç»“æ„ã€‚")]),t._v(" "),n("p",[t._v("ä½¿ç”¨"),n("code",[t._v('pFunc = PyDict_GetItemString(pDict,"disp")')]),t._v("å»ä»å­—å…¸ä¸­è·å–åä¸º"),n("code",[t._v("disp")]),t._v("çš„å‡½æ•°ï¼Œä½¿ç”¨"),n("code",[t._v("PyCallable_Check(pFunc)")]),t._v("æ£€æŸ¥è·å–çš„æŒ‡é’ˆæ˜¯å¦æŒ‡å‘ä¸€ä¸ªå¯ä»¥è°ƒç”¨çš„å‡½æ•°ã€‚")]),t._v(" "),n("p",[n("code",[t._v("pArgs = PyTuple_New(0)")]),t._v("åˆ›å»ºä¸€ä¸ªç©ºçš„å…ƒç»„"),n("code",[t._v("pArgs")]),t._v("å»ä½œä¸ºå‡½æ•°å‚æ•°ï¼Œå®ƒå¯ä»¥é€šè¿‡"),n("code",[t._v('PyTuple_SetItem(pArgs, 0, Py_BuildValue(""));')]),t._v(" åˆå§‹åŒ–ï¼Œä¹‹åä½¿ç”¨"),n("code",[t._v("PyObject_CallObject (pFunc, pArgs);")]),t._v("è°ƒç”¨å‡½æ•°ã€‚")]),t._v(" "),n("p",[t._v("ä½¿ç”¨å‡½æ•°"),n("code",[t._v("PyObject* Py_BuildValue(char *format, ...)")]),t._v("å¯ä»¥æŠŠC++çš„å˜é‡è½¬æ¢æˆä¸€ä¸ªPythonå¯¹è±¡ã€‚å½“éœ€è¦ä»C++ä¼ é€’å˜é‡åˆ°Pythonæ—¶ï¼Œå°±ä¼šä½¿ç”¨è¿™ä¸ªå‡½æ•°ã€‚"),n("code",[t._v("format")]),t._v("å‚æ•°ä¸­å¸¸ç”¨çš„æ ¼å¼æœ‰")]),t._v(" "),n("ul",[n("li",[t._v("i è¡¨ç¤ºint")]),t._v(" "),n("li",[t._v("I è¡¨ç¤ºunsigned int")]),t._v(" "),n("li",[t._v("f è¡¨ç¤ºfloat")]),t._v(" "),n("li",[t._v("O è¡¨ç¤ºä¸€ä¸ªPythonå¯¹è±¡")]),t._v(" "),n("li",[t._v("æ›´å¤šè§Python"),n("a",{attrs:{href:"https://docs.python.org/3/c-api/arg.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("æ–‡æ¡£"),n("OutboundLink")],1)])]),t._v(" "),n("p",[t._v("ä¾‹å¦‚"),n("code",[t._v('PyTuple_SetItem(pArgs, 0, Py_BuildValue("i",3));')]),t._v("ï¼ŒæŠŠç¬¬ä¸€ä¸ªå‚æ•°è®¾ç½®æˆäº†æ•´å‹å˜é‡3ã€‚å¦‚æœæ˜¯ç›´æ¥ç”¨å»æ„é€ å‡½æ•°çš„å‚æ•°ï¼Œå¾€å¾€éœ€è¦å†™æˆå…ƒç»„å½¢å¼å¦‚"),n("code",[t._v('pArgs=Py_BuildValue("(ii)",3,3)')]),t._v("ï¼Œåœ¨åªæœ‰ä¸€ä¸ªå‚æ•°çš„æ—¶å€™å°¤å…¶éœ€è¦æ³¨æ„å¦‚"),n("code",[t._v('pArgs=Py_BuildValue("(i)",3)')]),t._v("ã€‚æƒ³è¦å–å‡ºpythonå‡½æ•°çš„è¿”å›å€¼è¦ç”¨"),n("code",[t._v("PyArg_Parse")]),t._v("æˆ–"),n("code",[t._v("PyArg_ParseTuple")]),t._v("ï¼Œä½¿ç”¨å¼•ç”¨ä¼ é€’æŒ‰ä¸Šé¢çš„"),n("code",[t._v("format")]),t._v("å­—ç¬¦ä¸²èµ‹å€¼ç»™C++å˜é‡ï¼Œå¦‚"),n("code",[t._v('PyArg_Parse (retObj, "d", &ret);')]),t._v("ã€‚è¿™äº›apiåœ¨ä½¿ç”¨çš„æ—¶å€™ä¸€å®šè¦æ³¨æ„"),n("code",[t._v("format")]),t._v("å­—ç¬¦ä¸²ä¸­çš„æ•°æ®æ ¼å¼ï¼å¦‚æœæŠŠæ•°æ®æ ¼å¼å†™é”™äº†ï¼Œbugä¼šå¾ˆéš¾æ‰¾ã€‚")]),t._v(" "),n("p",[t._v("ä½¿ç”¨"),n("code",[t._v('instanceObj = PyObject_CallMethod(pModule,"clsName",NULL);')]),t._v("å¯ä»¥åˆ›å»ºä¸€ä¸ª"),n("code",[t._v("clsName")]),t._v("ç±»å‹çš„å¯¹è±¡ã€‚å¯¹è±¡çš„"),n("code",[t._v("disp")]),t._v("æ–¹æ³•å¯ä»¥ç”¨"),n("code",[t._v('PyObject_CallMethod(instanceObj,"disp",NULL)')]),t._v("è°ƒç”¨ï¼Œå¦‚æœé™„åŠ å‚æ•°çš„è¯éœ€è¦ç›´æ¥ç”¨å‰é¢"),n("code",[t._v("format")]),t._v("å‚æ•°çš„æ¨¡æ¿è¯­æ³•ã€‚ï¼ˆå®˜æ–¹æ–‡æ¡£æ¨èä½¿ç”¨"),n("code",[t._v("PyInstanceMethod_New")]),t._v("å»åˆ›å»ºå®ä¾‹ï¼Œä½†æ˜¯å®é™…ä½¿ç”¨æ—¶ä¼¼ä¹åˆ›å»ºå¤±è´¥ä¹Ÿä¸ä¼šè¿”å›NULLï¼Œå¯¼è‡´å¾ˆéš¾debugï¼‰ã€‚")]),t._v(" "),n("p",[t._v("åœ¨pythonä»£ç ä¸­ä½¿ç”¨é¢å‘å¯¹è±¡çš„æ€æƒ³ï¼Œæ˜¯ä¸ºäº†ç»´æŠ¤ä¸€äº›åœ¨C++ä¸­è°ƒç”¨æ–¹æ³•å»æ›´æ”¹çš„å˜é‡ã€‚åæ¥æµ‹è¯•å‘ç°åœ¨C++ä¸­ä½¿ç”¨"),n("code",[t._v("PyImport_ImportModule()")]),t._v("åŠ è½½æ¨¡å—åï¼Œæ¨¡å—ä¸­çš„å…¨å±€å˜é‡ä¼šè‡ªåŠ¨åŠ è½½ï¼Œå› æ­¤åœ¨è°ƒç”¨å‡½æ•°çš„æ—¶å€™ï¼Œä¹Ÿå¯ä»¥é€šè¿‡globalå…³é”®å­—ç»´æŠ¤å…¨å±€å˜é‡ï¼Œé¿å…ä½¿ç”¨å¯¹è±¡çš„æ¦‚å¿µï¼Œåœ¨C++é‡Œè°ƒç”¨çš„æ—¶å€™ä¼šç®€å•ä¸€äº›ã€‚")]),t._v(" "),n("p",[t._v("å¦‚æœåœ¨C++ä¸­å¯¼å…¥pyè„šæœ¬å‡ºç°é”™è¯¯ï¼Œè¯•ç€å…ˆç‹¬ç«‹è¿è¡Œpythonè„šæœ¬ï¼Œç¡®ä¿å®ƒæ˜¯æ­£ç¡®çš„ã€‚å‡ºç°é—®é¢˜æ—¶å°è¯•printè¾“å‡ºè°ƒè¯•ï¼Œpythonä¸­çš„é”™è¯¯æ²¡æ³•æŠ¥å‡ºæ¥ï¼Œåªèƒ½"),n("code",[t._v("print()")]),t._v("è¾“å‡ºè°ƒè¯•ã€‚")]),t._v(" "),n("p",[t._v("æ›´å¤šå…·ä½“çš„æ··ç¼–å†™æ³•ï¼Œå¯ä»¥å‚è€ƒ"),n("a",{attrs:{href:"https://docs.python.org/3/c-api/",target:"_blank",rel:"noopener noreferrer"}},[t._v("pythonå®˜æ–¹æ–‡æ¡£"),n("OutboundLink")],1),t._v("ä¸­çš„ä»‹ç»ã€‚")]),t._v(" "),n("h3",{attrs:{id:"å¯è¡Œæ–¹æ¡ˆ-ä¿®æ”¹wscript"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#å¯è¡Œæ–¹æ¡ˆ-ä¿®æ”¹wscript"}},[t._v("#")]),t._v(" å¯è¡Œæ–¹æ¡ˆï¼šä¿®æ”¹wscript")]),t._v(" "),n("p",[t._v("ä½†æ˜¯å†™äº†ä¸€æ®µæ—¶é—´çœŸæŠŠcppå’Œpythonå¾€ä¸€èµ·æ•´åˆçš„æ—¶å€™ï¼Œæ‰å‘ç°ï¼Œâ€œä¸å¯¹å•Šï¼Œns3æ˜¯ç”¨wafå»ç®¡ç†ç¼–è¯‘è¿‡ç¨‹çš„â€ã€‚ğŸ‘¿å¤©çœŸåœ°ä»¥ä¸ºæŠŠ"),n("code",[t._v("build")]),t._v("ç›®å½•ä¸‹çš„"),n("code",[t._v("ns3")]),t._v("å¤´æ–‡ä»¶å’Œ"),n("code",[t._v("lib")]),t._v("é‡Œçš„åŠ¨æ€é“¾æ¥åº“çš„è·¯å¾„éƒ½åŠ åˆ°g++åå°±è¡Œäº†ã€‚ä½†æ˜¯æœç„¶å¤±è´¥äº†â€¦â€¦")]),t._v(" "),n("p",[t._v("äºæ˜¯æ±‚åŠ©ä¸‡èƒ½çš„googleï¼Œå¯æƒœç½‘ä¸Šä¼¼ä¹æ²¡æœ‰è¿™ä¹ˆå¹²çš„äºº= =ã€‚æ²¡åŠæ³•ï¼Œè‡ªå·±å»è¯»äº†ä¸€ä¸‹"),n("a",{attrs:{href:"https://waf.io/apidocs/tools/python.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("wafçš„æ–‡æ¡£"),n("OutboundLink")],1),t._v("å§ï¼Œåˆšå¥½å‘ç°äº†è¿™æ®µ")]),t._v(" "),n("div",{staticClass:"language-python extra-class"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Support for Python, detect the headers and libraries and provide use variables to link C/C++ programs against them:")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("options")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("opt"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n\topt"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("load"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'compiler_c python'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("configure")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("conf"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    conf"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("load"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'compiler_c python'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    conf"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("check_python_version"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    conf"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("check_python_headers"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("build")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("bld"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    bld"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("program"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("features"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'pyembed'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" source"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'a.c'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" target"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'myprog'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    bld"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("shlib"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("features"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'pyext'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" source"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'b.c'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" target"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'mylib'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),n("p",[t._v("å‡è®¾ç¯å¢ƒéƒ½åˆé€‚ï¼Œé‚£è¿™æ®µçš„æ„æ€å°±æ˜¯ï¼Œè¦åœ¨wafä¸­ä½¿ç”¨c++å’Œpythonæ··ç¼–ï¼Œåªéœ€è¦åœ¨"),n("code",[t._v("build")]),t._v("å‡½æ•°é‡Œé¢è°ƒç”¨ "),n("code",[t._v("bld.program(features='pyembed', source='a.c', target='myprog')")]),t._v("ã€‚å†æµ“ç¼©ä¸€ä¸‹ï¼Œå°±æ˜¯è¦æŠŠç”Ÿæˆç¨‹åºçš„å‡½æ•°çš„"),n("code",[t._v("feature")]),t._v("å‚æ•°è®¾ç½®æˆ"),n("code",[t._v("'pyembed'")]),t._v("ã€‚è¿™ä¸‹æˆ‘ä»¬çŸ¥é“äº†æ··ç¼–pythonæ”¹wafé…ç½®å°±å¯ä»¥äº†ã€‚")]),t._v(" "),n("p",[t._v("ç»è¿‡å°è¯•ï¼Œå¯¹äºns3çš„å…·ä½“åšæ³•æ˜¯æ‰“å¼€ns3ä¸»ç›®å½•ä¸‹çš„"),n("code",[t._v("wscript")]),t._v("ï¼Œæœç´¢ä¸€ä¸‹"),n("code",[t._v("options")]),t._v("å‡½æ•°åœ¨å“ªé‡Œï¼Œç„¶ååšå¦‚ä¸‹æ”¹åŠ¨ã€‚")]),t._v(" "),n("div",{staticClass:"language-python extra-class"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ä¿®æ”¹åŸæ¥çš„optionå‡½æ•°ï¼ŒåŠ è½½pythonè§£é‡Šå™¨")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("options")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("opt"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# options provided by the modules")]),t._v("\n    opt"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("load"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'compiler_c'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    opt"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("load"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'compiler_cxx'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    opt"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("load"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'cflags'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    opt"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("load"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'gnu_dirs'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    opt"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("load"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'python'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# other commands")]),t._v("\n")])])]),n("p",[n("code",[t._v("configure")]),t._v("å‡½æ•°ä¼¼ä¹æ˜¯å¯æ”¹å¯ä¸æ”¹çš„ï¼Œæ¯•ç«Ÿæ˜¯è‡ªå·±çš„æœºå­ï¼Œé»˜è®¤æ²¡é—®é¢˜ï¼Œä¸æ£€æŸ¥ç¯å¢ƒä¹Ÿè¡Œ~")]),t._v(" "),n("p",[t._v("é‡è¦çš„æ˜¯åˆ›å»ºç¨‹åºæ—¶çš„"),n("code",[t._v("features")]),t._v("å‚æ•°ã€‚å› ä¸ºä¾èµ–å¤æ‚ï¼Œns3çš„wscriptå†™æ³•ä¹Ÿæ¯”è¾ƒå¤æ‚ï¼Œå’Œä¸Šé¢ç®€å•çš„wafç¤ºä¾‹è„šæœ¬ä¸åŒï¼Œns3çš„wscriptä¸­ä¸ºæ¯ä¸ªç¨‹åºåˆ›å»ºäº†ä¸€ä¸ªå¯¹è±¡ï¼Œåˆ†åˆ«è®¾ç½®å„ç§é€‰é¡¹ï¼Œç„¶åä¸ºæ¯ä¸ªç¨‹åºæ·»åŠ ä¾èµ–é¡¹ã€‚è¿™é‡Œæˆ‘ä»¬éœ€è¦æ‰¾åˆ°"),n("code",[t._v("create_ns3_program")]),t._v("å‡½æ•°çš„å®šä¹‰ï¼Œç„¶ååšå¦‚ä¸‹ä¿®æ”¹")]),t._v(" "),n("div",{staticClass:"language-python extra-class"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# åœ¨featureså‚æ•°åé¢æ·»åŠ ä¸€ä¸ªpyembedå°±è¡Œäº†")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("create_ns3_program")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("bld"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" dependencies"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'core'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    program "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" bld"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("features"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'cxx cxxprogram pyembed'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# wafå¯ä»¥é€šè¿‡ç©ºæ ¼åˆ†éš”é€‰é¡¹")]),t._v("\n    program"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("is_ns3_program "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("True")]),t._v("\n    program"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" name\n")])])]),n("p",[t._v("è¿™æ ·åšå…¶å®æŒºç²—æš´çš„ï¼Œå…¶ä»–ä¸€äº›æ²¡æœ‰ç”¨pythonçš„cppä»£ç ä¹Ÿä¼šè¢«æ·»åŠ è¿™é¡¹featureï¼Œå¯èƒ½æ›´å¥½çš„åšæ³•æ˜¯å•ç‹¬åœ¨"),n("code",[t._v("scratch")]),t._v("ä¸‹å†™wscriptï¼Œä½†æ˜¯æˆ‘ä¸ä¼šğŸ’”ã€‚")]),t._v(" "),n("p",[t._v("å¦å¤–å› ä¸ºä¼šæœ‰"),n("code",[t._v("__pycache__")]),t._v("ç”Ÿæˆï¼Œæœ€å¥½å†åœ¨ä¸Šé¢çš„wscriptä¸­æ·»åŠ å¦‚ä¸‹ä»£ç ï¼Œåœ¨ç¼–è¯‘æ—¶è·³è¿‡cacheï¼Œå¦åˆ™è¦æ¯æ¬¡æ¸…ç†æ‰cacheå†ç¼–è¯‘ã€‚")]),t._v(" "),n("div",{staticClass:"language-python extra-class"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("add_scratch_programs")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("bld"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" os"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("path"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("isdir"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("os"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("path"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("join"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"scratch"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" filename"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" filename "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"__pycache__"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n                "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("continue")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n")])])]),n("p",[t._v("è¿˜æœ‰éœ€è¦æ³¨æ„çš„ä¸€ç‚¹æ˜¯ï¼Œå¦‚æœåœ¨cppä¸­å¯¼å…¥äº†è‡ªå·±çš„pythonåŒ…ï¼Œè¦æ³¨æ„ä¸‹åŒ…çš„è·¯å¾„ï¼Œå¦åˆ™ä¼šæ‰¾ä¸åˆ°ã€‚å› ä¸ºns3çš„è„šæœ¬è¿è¡Œæ—¶å€™çš„è·¯å¾„æ˜¯åœ¨æ ¹ç›®å½•ã€‚å¯ä»¥æŠŠåŒ…copyåˆ°ns3çš„æ ¹ç›®å½•ï¼Œæˆ–è€…åœ¨ç”¨"),n("code",[t._v("PyRun_SimpleString (\"sys.path.append('./where you place package')\");")]),t._v("åŠ ä¸ªè·¯å¾„ã€‚")]),t._v(" "),n("p",[t._v("å¦‚æœæ˜¯ç”¨ anaconda è¿™ç§ï¼Œè¿˜éœ€è¦å‘è·¯å¾„ä¸­æ·»åŠ å½“å‰ç¯å¢ƒçš„åŒ…çš„ä½ç½®ã€‚")]),t._v(" "),n("p",[t._v("æ”¹å®Œä¹‹åï¼Œä¸‡å¹¸ï¼Œä»£ç èƒ½è·‘èµ·æ¥äº†~")]),t._v(" "),n("p",[t._v("ä½“ä¼šå°±æ˜¯â€œåªè¦æˆ‘ä»¬ä¸åœä¸‹è„šæ­¥ï¼Œé“è·¯å°±ä¼šä¸æ–­å»¶ä¼¸â€ã€‚")]),t._v(" "),n("p",[t._v("â–n"),n("br"),t._v("\nâ–ˆâ–ã€€ï½¤âº"),n("br"),t._v("\nâ–ˆâ– âº°Ê·Ê·ï½¨"),n("br"),t._v("\nâ–ˆâ—£â–„â–ˆâ–ˆâ—£"),n("br"),t._v("\nâ—¥â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‹"),n("br"),t._v("\nã€€â—¥â–ˆâ–ˆâ–ˆâ–ˆ â–ˆâ–"),n("br"),t._v("\nã€€ã€€â–ˆâ–ˆâ–ˆâ–‰ â–ˆâ–"),n("br"),t._v("\nã€€â—¢â–ˆâ–ˆâ–ˆâ–ˆâ—£âŒ â‚˜â„©"),n("br"),t._v("\nã€€ã€€â–ˆâ–ˆâ—¥â–ˆâ—£\\â‰«"),n("br"),t._v("\nã€€ã€€â–ˆâ–ˆã€€â—¥â–ˆâ—£"),n("br"),t._v("\nã€€ã€€â–ˆâ–‰ã€€ã€€â–ˆâ–Š"),n("br"),t._v("\nã€€ã€€â–ˆâ–Šã€€ã€€â–ˆâ–Š"),n("br"),t._v("\nã€€ã€€â–ˆâ–Šã€€ã€€â–ˆâ–‹"),n("br"),t._v("\nã€€ã€€ â–ˆâ–ã€€ã€€â–ˆâ–™"),n("br"),t._v("\nã€€ã€€ â–ˆ")]),t._v(" "),n("h3",{attrs:{id:"ä¸¤å¹´åé‡æ–°ç¼–è¯‘è¿™ä¸ªæ··ç¼–çš„é¡¹ç›®"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ä¸¤å¹´åé‡æ–°ç¼–è¯‘è¿™ä¸ªæ··ç¼–çš„é¡¹ç›®"}},[t._v("#")]),t._v(" ä¸¤å¹´åé‡æ–°ç¼–è¯‘è¿™ä¸ªæ··ç¼–çš„é¡¹ç›®")]),t._v(" "),n("p",[t._v("æ··ç¼–æ˜¯åŸºäº"),n("a",{attrs:{href:"https://bitbucket.org/ns3lteu/ns-3-dev-lbt/src/laa-wifi-coexistence/src/",target:"_blank",rel:"noopener noreferrer"}},[t._v("åˆ«äººåš lte-u çš„ç‰ˆæœ¬"),n("OutboundLink")],1),t._v(" åšçš„ï¼Œåªæ˜¯åœ¨ scratch ç›®å½•ä¸‹é¢æ·»åŠ äº†è‡ªå·±çš„ä»£ç ã€‚")]),t._v(" "),n("p",[t._v("æˆ‘ç°åœ¨çš„ WSL æ˜¯å®‰è£…çš„ Ubuntu 20ï¼Œé»˜è®¤æ˜¯ gcc9 å’Œ python3.9ï¼Œä½†æ˜¯å¾ˆå¥‡æ€ªçš„æ˜¯ "),n("code",[t._v("/usr/include/")]),t._v(" ä¸‹é»˜è®¤æ˜¯å®‰è£…çš„ python3.8-dev çš„å¤´æ–‡ä»¶ï¼Œæ··ç¼–å¾ˆéº»çƒ¦ä¼šæœ‰å„ç§å¥‡æ€ªçš„é—®é¢˜ï¼Œæ²¡æ³•ç¼–è¯‘è¿‡ã€‚å½“æ—¶æ²¡æœ‰å†™æ¸…æ¥šé…ç½®ï¼Œç°åœ¨åˆéº»çƒ¦äº†ã€‚")]),t._v(" "),n("p",[t._v("æ—¢ç„¶å·²ç»æƒ³ä¸èµ·æ¥å½“æ—¶çš„é…ç½®äº†ï¼Œåªèƒ½æ’åˆ—ç»„åˆå°è¯•äº†ï¼ˆæ²¡æœ‰æ‰¾åˆ° gccã€python-dev å’Œ python çš„å¯¹åº”ç‰ˆæœ¬çš„è¡¨ï¼‰ã€‚æœ€åç¡®è®¤æ˜¯ gcc 7.3ï¼Œpython3.6-dev å’Œ Python 3.5ï¼ŒæˆåŠŸç¼–è¯‘è¿‡äº†ã€‚ä½†æ˜¯å½“æ—¶è‚¯å®šä¸æ˜¯è¿™ä¸ªç»„åˆçš„ï¼Œpython ä»£ç é‡Œç”¨äº† "),n("code",[t._v('f"{}"')]),t._v("æ ¼å¼å­—ç¬¦ä¸²ï¼Œåº”è¯¥å½“æ—¶æ˜¯åœ¨ python3.6 ä»¥ä¸Šçš„ã€‚")]),t._v(" "),n("p",[t._v("å®‰è£… gcc 7.3ï¼šapt æºä¸Šçš„gcc7 ä¸æ˜¯ gcc 7.3ï¼Œæ˜¯ gcc 7.5ï¼Œä¼šæœ‰ LTO ä¸åŒ¹é…çš„é—®é¢˜ï¼Œç±»ä¼¼äº "),n("a",{attrs:{href:"https://segmentfault.com/a/1190000022655994",target:"_blank",rel:"noopener noreferrer"}},[t._v("è¯¥è€å“¥ç¢°åˆ°çš„"),n("OutboundLink")],1),t._v("ã€‚æ‰€ä»¥ gcc 7.3 è¦ä»å¤´ç¼–è¯‘ï¼Œä¹‹åå¯ä»¥ç”¨ update-alternative ç®¡ç†ä¸‹æœ¬æœºçš„å¤šç‰ˆæœ¬ gccï¼Œæ³¨æ„åœ¨ç¼–è¯‘ ns3 é¡¹ç›®çš„æ—¶å€™åˆ‡æ¢å›æ¥å°±è¡Œäº†ï¼ŒåŒæ—¶ä¿æŒ g++ å’Œ gcc ç‰ˆæœ¬ä¸€è‡´ã€‚ç¼–è¯‘è¿‡ç¨‹ä¸­å¯èƒ½ä¼šç¢°åˆ° glibc æ–°ç‰ˆæœ¬ä¸¢å¼ƒæ‰äº† "),n("code",[t._v("<sys/ustat.h>")]),t._v(" çš„ "),n("a",{attrs:{href:"https://blog.csdn.net/weixin_46584887/article/details/122538399",target:"_blank",rel:"noopener noreferrer"}},[t._v("é—®é¢˜"),n("OutboundLink")],1),t._v(" å’Œä¸€ä¸ªé™æ€æ£€æŸ¥çš„"),n("a",{attrs:{href:"https://stackoverflow.com/questions/63437209/error-narrowing-conversion-of-1-from-int-to-long-unsigned-int-wnarrowi",target:"_blank",rel:"noopener noreferrer"}},[t._v("é—®é¢˜"),n("OutboundLink")],1),t._v("ã€‚")]),t._v(" "),n("p",[t._v("æƒ³è¦å®‰è£…ä½ç‰ˆæœ¬çš„ python3.6-devï¼Œæƒ³è¦æ·»åŠ é¢å¤–çš„æºï¼Œå¯ä»¥å‚è€ƒè¿™ä¸ª"),n("a",{attrs:{href:"https://stackoverflow.com/questions/43621584/why-cant-i-install-python3-6-dev-on-ubuntu16-04",target:"_blank",rel:"noopener noreferrer"}},[t._v("é“¾æ¥"),n("OutboundLink")],1),t._v("ã€‚æ³¨æ„è¦å®‰çš„æ˜¯ python3.6-devï¼Œç¡®ä¿ "),n("code",[t._v("/usr/include")]),t._v(" ä¸‹æœ‰ python3.6 å¤´æ–‡ä»¶ç›®å½•ï¼Œä»£ç é‡Œä¼šå¼•ç”¨è¿™ä¸ªä¸‹é¢çš„ "),n("code",[t._v("Python.h")]),t._v("ã€‚æœ€æ–°çš„ conda å®‰è£…ç›®å½•ä¸‹çš„ "),n("code",[t._v("include")]),t._v(" ä¸­é»˜è®¤æºå¸¦çš„æ˜¯ python3.9-dev çš„å¤´æ–‡ä»¶ï¼Œä¸èƒ½ç›´æ¥æ‹¿æ¥ç”¨ã€‚")]),t._v(" "),n("p",[t._v("ä¹‹å conda é‡Œå®‰ python 3.6 çš„ç¯å¢ƒï¼Œå¦åˆ™ä¹Ÿå¯èƒ½ä¼šæŠ¥ LTO ç‰ˆæœ¬ä¸ä¸€è‡´é—®é¢˜ã€‚æ­¤æ—¶å¯ä»¥åœ¨è¿›å…¥åˆ° conda çš„ python 3.6 ç¯å¢ƒä¸‹ç¼–è¯‘ ns3 é¡¹ç›®äº†ã€‚")]),t._v(" "),n("p",[t._v("ä»¥åŠ Python å‡ºé—®é¢˜çš„åœ°æ–¹å¯ä»¥ç”¨ï¼Œ"),n("code",[t._v("PyErr_Print()")]),t._v(" å‡½æ•°å¯ä»¥ç”¨æ¥æ‰“å°é”™è¯¯ä¿¡æ¯ã€‚")]),t._v(" "),n("h3",{attrs:{id:"è¡¥å……-ns3æ–‡æ¡£ä¸­ç›¸å…³å†…å®¹"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#è¡¥å……-ns3æ–‡æ¡£ä¸­ç›¸å…³å†…å®¹"}},[t._v("#")]),t._v(" è¡¥å……ï¼šns3æ–‡æ¡£ä¸­ç›¸å…³å†…å®¹")]),t._v(" "),n("p",[t._v("äº‹å®ä¸Šï¼Œå¯¹äºåœ¨ç¼–è¯‘æ—¶æ·»åŠ åˆ«çš„ä¾èµ–ns3æ–‡æ¡£ä¸­æœ‰"),n("a",{attrs:{href:"https://www.nsnam.org/wiki/HOWTO_use_ns-3_with_other_libraries",target:"_blank",rel:"noopener noreferrer"}},[t._v("ç›¸å…³æè¿°"),n("OutboundLink")],1),t._v("ï¼ˆå½“ç„¶å»è¯»ä¸»ç›®å½•ä¸‹çš„"),n("code",[t._v("wscript")]),t._v("ä¹Ÿå¯ä»¥å‘ç°ï¼Œå¯ä»¥è¯•ç€åœ¨"),n("code",[t._v("wscript")]),t._v("ä¸­æœç´¢"),n("code",[t._v("CXXFLAGS")]),t._v("ï¼‰ï¼Œå¯ä»¥ç”¨"),n("code",[t._v("CCFLAGS_EXTRA")]),t._v("è¿™äº›é€‰é¡¹ä¸ºç¼–è¯‘å™¨æ·»åŠ å‚æ•°æˆ–è€…åœ¨"),n("code",[t._v("wscript")]),t._v("é‡Œé¢æ”¹ï¼ŒåŸå› æ˜¯"),n("code",[t._v("wscript")]),t._v("ä¸­è¿™æ ·å®šä¹‰è¿‡äº†")]),t._v(" "),n("div",{staticClass:"language-python extra-class"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# append user defined flags after all our ones")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("confvar"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" envvar"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'CCFLAGS'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'CCFLAGS_EXTRA'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                          "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'CXXFLAGS'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'CXXFLAGS_EXTRA'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                          "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'LINKFLAGS'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'LINKFLAGS_EXTRA'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                          "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'LINKFLAGS'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'LDFLAGS_EXTRA'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n")])])]),n("p",[t._v("äºæ˜¯"),n("a",{attrs:{href:"https://stackoverflow.com/questions/11876088/how-to-build-ns-3-to-use-c0x-c11-libraries",target:"_blank",rel:"noopener noreferrer"}},[t._v("stackoverflow"),n("OutboundLink")],1),t._v("ä¸Šæœ‰äººæåˆ°å¦‚æœæ˜¯ä¸ºç¼–è¯‘å™¨æ·»åŠ c++11é€‰é¡¹å¯ä»¥è¿™ä¹ˆåš")]),t._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("CXXFLAGS")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"-std=c++0x"')]),t._v(" ./waf build\n")])])]),n("p",[t._v("ä½†æ˜¯æˆ‘è¯•è¿‡è¿™ç±»æ–¹æ³•ï¼Œå¤±è´¥äº†ï¼ŒåŸå› æ˜¯ç”¨äº†"),n("code",[t._v("CXXFLAGS")]),t._v("ï¼Œ"),n("code",[t._v("CXXDEFINES")]),t._v("ï¼Œ"),n("code",[t._v("LINKFLAGS")]),t._v("è¿™äº›å‚æ•°å¯¹"),n("code",[t._v("python3-config --cflags")]),t._v("ï¼Œ"),n("code",[t._v("python3-config --ldflags")]),t._v(" å’Œ"),n("code",[t._v("-fPIC")]),t._v("éƒ½ä¸åˆé€‚= =æˆ‘ä¸çŸ¥é“å’‹ç”¨è¿™ç§æ–¹æ³•è®¾ç½®äº†ã€‚")]),t._v(" "),n("h2",{attrs:{id:"ä¸€ä¸ªå¾ˆæœ‰è¶£çš„repo"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ä¸€ä¸ªå¾ˆæœ‰è¶£çš„repo"}},[t._v("#")]),t._v(" ä¸€ä¸ªå¾ˆæœ‰è¶£çš„repo")]),t._v(" "),n("p",[t._v("ä¹‹å‰æ‰“ç®—ç”¨pythonçš„binding apiï¼Œåˆšå¥½å‘ç°äº†è¿™ä¸ªrepoï¼š"),n("a",{attrs:{href:"https://github.com/tkn-tub/ns3-gym",target:"_blank",rel:"noopener noreferrer"}},[t._v("ns3-gym"),n("OutboundLink")],1),t._v(" ã€‚")]),t._v(" "),n("p",[t._v("ä½†æ˜¯æŠŠè¿™ä¸ªrepo cloneä¸‹æ¥åï¼Œå…ˆå»ç¼–è¯‘ns3çš„éƒ¨åˆ†ï¼Œå†æŒ‰READMEä¸­"),n("code",[t._v("pip3 install ./src/opengym/model/ns3gym")]),t._v("å®‰pythonçš„apiï¼Œä¸æ˜¯åƒå…¶ä»–æ¨¡å—é‚£æ ·ç”¨pybindgenè‡ªåŠ¨ç”Ÿæˆçš„apiã€‚")]),t._v(" "),n("p",[t._v("ä½†æ˜¯å¾ˆå¯æƒœæ²¡ç”¨buildæˆåŠŸï¼Œå…·ä½“æƒ…å†µè®°å½•åœ¨è¯¥"),n("a",{attrs:{href:"https://github.com/tkn-tub/ns3-gym/issues/32",target:"_blank",rel:"noopener noreferrer"}},[t._v("issue"),n("OutboundLink")],1),t._v("ã€‚é—®é¢˜ä¸»è¦å‡ºåœ¨protobufå’Œzmqä¸Šã€‚protobufä½œè€…ç”¨äº†ä¸€ä¸ªæ¯”è¾ƒæ—§çš„ç‰ˆæœ¬ï¼Œä»PPAæ‹‰å–åå´æ£€æµ‹ä¸åˆ°ï¼Œåæ¥å‘ç°æ˜¯ç™»å½•ç”¨æˆ·çš„ç¯å¢ƒå˜é‡æ²¡åŠ "),n("code",[t._v("/usr/bin")]),t._v("ï¼Œè¿™ä¸ªä¸»è¦æ˜¯ç”¨æ¥ç¼–è¯‘"),n("code",[t._v("src/opengym/model/messages.proto")]),t._v("å’Œæä¾›é“¾æ¥åº“çš„ï¼Œç¼–è¯‘æ–¹æ³•æ˜¯åœ¨"),n("code",[t._v("src/opengym/model")]),t._v("ä¸‹è°ƒç”¨"),n("code",[t._v("protoc ./messages.proto --cpp_out=./")]),t._v("ã€‚è€Œä¸”è¿™é‡Œå¦‚æœanacondaç¯å¢ƒä¸­å®‰äº†pythonç‰ˆçš„protobufï¼ŒåŒæ ·éœ€è¦å…³æ‰anacondaçš„ç¯å¢ƒï¼Œç”¨"),n("code",[t._v("which protoc")]),t._v("çœ‹ä¸€ä¸‹å§ã€‚zmqçš„è¯ï¼Œä½œè€…æåˆ°ç”¨ "),n("strong",[t._v("libzmq5-dev")]),t._v("ï¼Œä½†æ˜¯ubuntu16.04ä¸Šåªèƒ½æ‰¾åˆ° "),n("strong",[t._v("libzmq3-dev")]),t._v("ã€‚ä¸è¿‡ä¼¼ä¹æ˜¯æ²¡æœ‰ä»€ä¹ˆå…¼å®¹æ€§é—®é¢˜çš„ï¼Œæ¯•ç«Ÿæœ€åå¯ä»¥è·‘èµ·æ¥ã€‚zmqè¿™é‡Œå‡ºé—®é¢˜çš„åŸå› æ˜¯ä½œè€…æ¥å—äº†ä¸€ä¸ªprï¼Œæ”¹äº†apiçš„è°ƒç”¨æ–¹å¼ï¼Œä½†æ˜¯æˆ‘ä»¬çš„ç‰ˆæœ¬é‡ŒæŸäº›å‚æ•°ä¼¼ä¹è¿˜æ˜¯optionalçš„ã€‚ä¸å†™å¹³å°ã€ç‰ˆæœ¬ä¹±æprå®³äººä¸æµ…= =")]),t._v(" "),n("h2",{attrs:{id:"tips"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#tips"}},[t._v("#")]),t._v(" TIPS")]),t._v(" "),n("ul",[n("li",[n("p",[t._v("æ€»æ˜¯è€ƒè™‘å»ç”¨Helper")]),t._v(" "),n("p",[t._v("ns3ä¸­çš„å¾ˆå¤šç±»éƒ½æœ‰helperç±»ï¼Œå°è¯•ä½¿ç”¨å®ƒä»¬~")])]),t._v(" "),n("li",[n("p",[t._v("ç›´æ¥ç”¨å®˜æ–¹çš„ShowProgressç»‘å®šåˆ°std::coutä¸Šä¼šæœ‰é—®é¢˜")])]),t._v(" "),n("li",[n("p",[t._v("Scheduleç”¨æ¥å®‰æ’å‡½æ•°çš„æ‰§è¡Œæ—¶ï¼Œåªéœ€è¦æŒ‡å®šè¿è¡Œæ—¶é—´å¹¶å¼•ç”¨å‡½æ•°çš„æŒ‡é’ˆï¼Œå¦‚"),n("code",[t._v("Simulator::Schedule (Seconds (1), &FunctionName)")]),t._v("ï¼›ç”¨æ¥å®‰æ’æŸä¸ªç±»çš„æ–¹æ³•çš„æ‰§è¡Œæ—¶ï¼Œè¦å†™å‡ºæ‰§è¡Œè¯¥æ–¹æ³•çš„å¯¹è±¡çš„æŒ‡é’ˆï¼Œå¦‚å¦‚"),n("code",[t._v("Simulator::Schedule (Seconds (1), &ClassName::FunctionName,ObjectOfTheClass)")]),t._v("ã€‚")])])]),t._v(" "),n("p",[n("RouterLink",{attrs:{to:"/zh/blogs/"}},[t._v("è¿”å›")])],1),t._v(" "),n("Comment",{attrs:{lang:"zh-CN"}})],1)}),[],!1,null,null,null);a.default=e.exports}}]);